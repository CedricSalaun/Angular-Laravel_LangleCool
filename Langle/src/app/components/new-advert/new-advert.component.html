<h1 class="is-centered">Ajouter une annonce</h1>
<!--
<div class="column">
    <form (ngSubmit)="onSubmit()">
        <div class="field">
            <label class="label" for="title">Titre</label>
            <div class="control">
                <input class="input" type="text" placeholder="Titre" id="title" name="title" ngModel>
            </div>
        </div>
        <div class="field">
            <label class="label" for="price">Prix</label>
            <div class="control">
                <input class="input" type="number" placeholder="Prix" id="price" name="price" ngModel>
            </div>
        </div>
        <div class="field">
            <label class="label">Description</label>
            <div class="control">
                <textarea class="textarea" placeholder="Ici la description" name="description" ngModel></textarea>
            </div>
        </div>
        &lt;!&ndash;select&ndash;&gt;
        <div class="field">
            <div class="control is-left">
                <label class="file-label">Categories
                </label>
                <div class="select">
                    <select title="categories" id="category" name="category">
                        <option class="Disabled">Choisisez une catégorie</option>
                        <option *ngFor="let category of categories">{{category?.name}}</option>
                    </select>
                </div>
            </div>
            <div class="control is-right">
                <label class="file-label">Départements</label>
                <div class="select">
                    <select title="locations" id="location" name="location">
                        <option class="Disabled">Choisiez un département</option>
                        <option *ngFor="let location of locations">{{location?.name}}</option>
                    </select>
                </div>
            </div>
        </div>
        <div class="field">
            <div class="control">
                <label class="checkbox">
                    <input type="checkbox">
                    I agree to the <a>terms and conditions</a>
                </label>
            </div>
        </div>
        <div class="field">
            <div class="file has-name">
                <label class="file-label">
                    <input class="file-input" type="file" name="resume" id="pic">
                    <span class="file-cta">
                        <span class="file-icon"><i class="fa fa-upload"></i></span>
                        <span class="file-label">Choose a file…</span>
                    </span>
                    <span class="file-name">Met le fichier wesh</span>
                </label>
            </div>
        </div>
        <div class="field">
            <div class="field is-grouped">
                <div class="control">
                    <button class="button is-link" type="submit">Submit</button>
                </div>
                <div class="control">
                    <button class="button is-text">Cancel</button>
                </div>
            </div>
        </div>
    </form>
</div>
-->

<div>
    <h1>Test</h1>
    <article>
        <h2>{{(ad|async).title}}</h2>
        <img [src]="(ad|async).image" width="350px"><br>
        <p>{{(ad|async).content}}</p>
        <h4>Price: {{(ad|async).price | currency}}</h4>
    </article>

    <h3>Form Values</h3>
    Form value: {{adForm.value | json}}
    Form status: {{adForm.status | json}}
</div>
<div>
    <form [formGroup]="adForm" novalidate>
        <div class="field is-horizontal">
            <div class="field-label is-normal">
                <label class="label">Title</label>
            </div>
            <div class="field-body">
                <div class="field">
                    <div class="control">
                        <input class="input" type="text"
                               formControlName="title"
                               (change)="saveAdChanges()"
                               [ngClass]="{
                                'is-success' :  adForm.get('title').valid &&  adForm.get('title').dirty,
                                'is-danger'  :  !adForm.get('title').valid
                              }">
                    </div>
                    <p class="error is-danger" [hidden]="adForm.get('title').valid">
                        Title is required
                    </p>
                </div>
            </div>
        </div>
        <div class="field is-horizontal">
            <div class="field-label is-normal">
                <label class="label">Image URL</label>
            </div>
            <div class="field-body">
                <div class="field">
                    <div class="control">
                        <input class="input" type="text"
                               formControlName="image"
                               (change)="saveAdChanges()"
                               [ngClass]="{
                               'is-success' :  adForm.get('image').valid &&  adForm.get('image').dirty,
                               'is-danger'  :  !adForm.get('image').valid
                             }">
                    </div>
                    <p class="error is-danger" [hidden]="adForm.get('image').valid">
                        Image is required
                    </p>
                </div>
            </div>
        </div>
        <div class="field is-horizontal">
            <div class="field-label is-normal"><label class="label">Price</label></div>
            <div class="field-body">
                <div class="field is-expanded">
                    <div class="field has-addons">
                        <p class="control">
                            <a class="button is-static">
                                $
                            </a>
                        </p>
                        <p class="control is-expanded">
                            <input class="input" type="number"
                                   formControlName="price"
                                   (change)="saveAdChanges()"
                                   [ngClass]="{
                                   'is-success' :  adForm.get('price').valid &&  adForm.get('price').dirty,
                                   'is-danger'  :  !adForm.get('price').valid
                                 }">
                        </p>
                    </div>
                    <p class="error" [hidden]="adForm.get('price').valid">Price is not valid</p>
                </div>
            </div>
        </div>
        <div class="field is-horizontal">
            <div class="field-label is-normal">
                <label class="label">Details</label>
            </div>
            <div class="field-body">
                <div class="field">
                    <div class="control">
              <textarea class="textarea"
                        formControlName="content"
                        (change)="saveAdChanges()"
                        [ngClass]="{
                               'is-success' :  adForm.get('content').valid &&  adForm.get('content').dirty,
                               'is-danger'  :  !adForm.get('content').valid
                             }">
              </textarea>
                        <p class="error" [hidden]="adForm.get('content').valid">Content is not valid</p>
                    </div>
                </div>
            </div>
        </div>
    </form>
    <button class="button is-success"
            (click)="startNewAdListing()">
        Start New Ad Listing
    </button>
</div>